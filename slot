#!/usr/bin/python3
# SPDX-FileCopyrightText: 2024 Yuuki Tamada
# SPDX-License-Identifier: BSD-3-Clause

import sys
import random
import time  # time ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

p = ["ğŸ’", "ğŸ‹", "ğŸŠ", "ğŸ””", "ï¼—", "ğŸ’"]

def spin_slot():
    return [random.choice(p) for _ in range(3)]

def result_slot(slot):
    if len(set(slot)) == 1:
        return "ã‚¸ãƒ£ãƒƒã‚¯ãƒãƒƒãƒˆ!!!!!!"
    elif len(set(slot)) == 2:
        return "å½“ãŸã‚Š!"
    else:
        return "ãƒã‚ºãƒ¬"

def number_of_time():
    while True:
        try:
            # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚¹ãƒ”ãƒ³å›æ•°ã‚’å…¥åŠ›ã—ã¦ã‚‚ã‚‰ã†
            spins = int(input("å›æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚1~10å›ã¾ã§: "))
            if 1 <= spins <= 10:
                return spins
            else:
                print("ã‚¨ãƒ©ãƒ¼: 1~10ã®ç¯„å›²ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
                sys.exit(1)  # 1~10ã®ç¯„å›²ä»¥å¤–ã®å ´åˆã€ã‚¨ãƒ©ãƒ¼ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ‚äº†
        except ValueError:  # ValueError ã«å¯¾å¿œ
            print("ã‚¨ãƒ©ãƒ¼: ç„¡åŠ¹ã§ã™ã€‚")
            sys.exit(1)  # æ•´æ•°ä»¥å¤–ãŒå…¥åŠ›ã•ã‚ŒãŸå ´åˆã‚‚ã‚¨ãƒ©ãƒ¼ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ‚äº†

def play_slot():
    spins = number_of_time()  # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã‚¹ãƒ”ãƒ³å›æ•°ã‚’å–å¾—
    print(f"å›æ•°: {spins}å›")

    for i in range(spins):
        time.sleep(0.1)  # 0.1ç§’ã®é…å»¶
        slot = spin_slot()
        print(f"{'  '.join(slot)}")
        result = result_slot(slot)
        print(result)  # å–å¾—ã—ãŸçµæœã‚’è¡¨ç¤º
        print()

    print("çµ‚äº†")

if __name__ == "__main__":
    print("ã‚¹ãƒ­ãƒƒãƒˆé–‹å§‹!")
    play_slot()

